<div [@routerTransition]>
    <app-page-header [heading]="'Forms'" [icon]="'fa-edit'"></app-page-header>

    <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm- col- ">
            <ngb-tabset>
                <ngb-tab title="Login">
                    <ng-template ngbTabContent>
                        <form novalidate #loginForm="ngForm">
                            <div class="form-row">
                                <div class="col-md-12 text-center">
                                    <p id="lsuccess" class=" col-md-12 text-center">{{ loginSuccessMsg }}</p>
                                    <p id="lerror" class=" col-md-12 text-center">{{ loginErrorMsg }}</p>                                    
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col">
                                    <label for="loginfName">Email</label>
                                    <input type="email" [(ngModel)]="login.email" class="form-control" #loginEmail="ngModel"
                                    placeholder="name@example.com" name="loginEmail" required>
                                        <div *ngIf="(loginEmail.errors?.required && loginForm.submitted || loginEmail.errors?.required && loginEmail.touched)"
                                        class="alert alert-danger">
                                        Email is Required
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col">
                                    <label for="email">Password</label>
                                    <input type="password" class="form-control" [(ngModel)]="login.password"
                                        #loginPassword="ngModel" name="loginPassword" placeholder="*******" required>
                                        <div *ngIf="(loginPassword.errors?.required && loginForm.submitted ||loginPassword.errors?.required && loginPassword.touched)"
                                        class="alert alert-danger">
                                        Password is Required
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div class="form-row">
                                    <div class="col col-md-12">
                                        <button (click)="onLogin()" type="button" class="btn btn-primary col-md-12">Sign in</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </ng-template>
                </ngb-tab>
                <ngb-tab title="Register">
                    <ng-template ngbTabContent>
                        <form novalidate #userForm="ngForm">
                            <div id='mesgs' class="form-row">
                                <div class="col-md-12 text-center">
                                    <p id="error" class=" col-md-12 text-center">{{ errorMsg }}</p>
                                    <p id="success" class=" col-md-12 text-center">{{ successMsg }}</p>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col">
                                    <label for="fName">First Name</label>
                                    <input type="text" [(ngModel)]="user.fname" class="form-control" #userFName="ngModel"
                                        placeholder="First name" name="fname" required>
                                    <div *ngIf="(userFName.errors?.required && userForm.submitted || userFName.errors?.required && userFName.touched)"
                                        class="alert alert-danger">
                                        First Name is Required
                                    </div>
                                </div>
                                <div class="col">
                                    <label for="lName">Last Name</label>
                                    <input type="text" [(ngModel)]="user.lname" class="form-control" #userLName="ngModel"
                                        name="lname" placeholder="Last name" required>
                                    <div *ngIf="userLName.errors?.required && userForm.submitted || userLName.errors?.required && userLName.touched"
                                        class="alert alert-danger">
                                        Last Name is Required
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col">
                                    <label for="password">Password</label>
                                    <input type="password" class="form-control" [(ngModel)]="user.password"
                                        #userPassword="ngModel" name="password" 
                                        placeholder="*******" required>
                                    <div *ngIf="userPassword.errors?.required && userForm.submitted ||userPassword.errors?.required && userPassword.touched"
                                        class="alert alert-danger">
                                        Password is Required
                                    </div>
                                </div>
                                <div class="col">
                                    <label for="cnfpassword">Confirm Password</label>
                                    <input type="password" class="form-control" [(ngModel)]="user.cnfpassword"
                                        #userPassword="ngModel" name="cnfpassword" placeholder="*******" required>
                                    <div *ngIf="userPassword.errors?.required && userForm.submitted ||userPassword.errors?.required && userPassword.touched"
                                        class="alert alert-danger">
                                        Password is Required
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col">
                                    <label for="email">Email address</label>
                                    <input type="email" class="form-control" [(ngModel)]="user.email" #userEmail="ngModel"
                                        name="email" placeholder="name@example.com" required>
                                    <div *ngIf="userEmail.errors?.required && userForm.submitted ||userEmail.errors?.required && userEmail.touched"
                                        class="alert alert-danger">
                                        Email is Required
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col">
                                    <label for="mobile">Mobile No</label>
                                    <input type="text" class="form-control" [(ngModel)]="user.mobile" #userMobile="ngModel"
                                        name="mobile" placeholder="Mobile No" minlength="10" required>
                                    <div *ngIf="userMobile.errors?.required && userForm.submitted ||userMobile.errors?.required && userMobile.touched"
                                        class="alert alert-danger">
                                        Mobile Number is Required
                                    </div>
                                    <div *ngIf="userMobile.errors?.minlength && userMobile.touched" class="alert alert-danger">
                                        Enter a Valid Mobile Number
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div class="form-row">
                                    <div class="col col-md-12">
                                        <button (click)="onSubmit()" class="btn btn-primary col-md-12">Sign up</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </ng-template>
                </ngb-tab>
            </ngb-tabset>
        </div>
    </div>
</div>